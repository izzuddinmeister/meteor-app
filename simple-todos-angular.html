<head>
  <title>Realtime Web: AngularJS & Meteor</title>
</head>

<body>
	<div class="container" ng-app="simple-todos" ng-controller="TodosListCtrl">
		<header>
			<h1>
				TodoList <span class="incomptask">Incomplete Task: ( {{ incompleteCount() }} )</span>
				
			</h1>
			<h4></h4>
			<label class="hide-completed">
			  <input type="checkbox" ng-model="hideCompleted"/>
			  Hide Complete Tasks
			</label>
			<login-buttons></login-buttons>
			<!-- add a form below h1 -->
			<form class="new-task" ng-submit="addTask(newTask); newTask='';" ng-show="$root.currentUser">
			  <input ng-model="newTask" type="text"
					 name="text" placeholder="Type to add new tasks" />
			</form>
		</header>
		<ul>
			<li ng-repeat="task in tasks" ng-class="{'checked': task.checked, 'private': task.private}">
			  
			  <!-- Non-secure way
			  <button class="delete" ng-click="tasks.remove(task)">&times;</button>
		 
			  <input type="checkbox" ng-model="task.checked" class="toggle-checked" />
			  -->
			  
			  <button class="delete" ng-click="deleteTask(task)">&times;</button>
		 
			   <input type="checkbox" ng-checked="task.checked" ng-click="setChecked(task)" class="toggle-checked" />
		      
			  <button class="toggle-private" ng-if="task.owner === $root.currentUser._id" ng-click="setPrivate(task)">
				{{task.private == true ? "Private" : "Public"}}
			  </button>
	  
			  <span class="text">
				<strong>{{task.username}}</strong> - {{task.text}}
			  </span>
			</li>
		</ul>
	</div>
</body>

<template name="hello">
  <button>Click Me</button>
  <p>You've pressed the button {{counter}} times.</p>
</template>
